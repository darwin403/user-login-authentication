(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,a,t){e.exports=t(60)},54:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(11),s=t.n(c),r=t(2),i=t(3),o=t(9),m=t.n(o),u=t(12),E=t(15),d=t.n(E),f=t(13);t(54),t(28);function p(e){var a=Object(n.useState)("john@example.com"),t=Object(i.a)(a,2),c=t[0],s=t[1],o=Object(n.useState)("mypass"),E=Object(i.a)(o,2),d=E[0],f=E[1],p=Object(n.useState)(null),b=Object(i.a)(p,2),h=b[0],v=b[1];return l.a.createElement("div",{class:"modal is-active"},l.a.createElement("div",{class:"modal-background"}),l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{class:"box"},l.a.createElement("h1",{class:"title"},"Sign In"),l.a.createElement("h2",{class:"subtitle"},"Don't have an account? ",l.a.createElement(r.b,{to:"/register"},"Register")," for free!"),h&&l.a.createElement("article",{class:"message is-danger"},l.a.createElement("div",{class:"message-body"},h)),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"email",placeholder:"john@doe.com",value:c,onChange:function(e){return s(e.target.value)}}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-envelope"})))),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"password",placeholder:"Password",value:d,onChange:function(e){return f(e.target.value)}}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{class:"fas fa-key"})))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",type:"submit",onClick:function(){m.a.post("/users",{email:c,password:d}).then((function(a){Object(u.b)("Logged in successfully!"),e.onSuccess(a.data)}),(function(e){return v(e.response.data.message||e.message)}))}},"Login"))))),l.a.createElement(r.b,{class:"modal-close is-large","aria-label":"close",to:"/"}))}function b(e){var a=Object(n.useState)("John Doe"),t=Object(i.a)(a,2),c=t[0],s=t[1],o=Object(n.useState)("john@example.com"),E=Object(i.a)(o,2),d=E[0],f=E[1],p=Object(n.useState)("mypass"),b=Object(i.a)(p,2),h=b[0],v=b[1],g=Object(n.useState)(null),j=Object(i.a)(g,2),N=j[0],O=j[1];return l.a.createElement("div",{class:"modal is-active"},l.a.createElement("div",{class:"modal-background"}),l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{class:"box"},l.a.createElement("h1",{class:"title"},"Register"),l.a.createElement("h2",{class:"subtitle"},"Already have an account? ",l.a.createElement(r.b,{to:"/login"},"Login")," for all benefits!"),N&&l.a.createElement("article",{class:"message is-danger"},l.a.createElement("div",{class:"message-body"},N)),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"text",placeholder:"John Doe",value:c,onChange:function(e){return s(e.target.value)}}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-user"})))),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"email",placeholder:"john@doe.com",value:d,onChange:function(e){return f(e.target.value)}}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-envelope"})))),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"password",placeholder:"Password",value:h,onChange:function(e){return v(e.target.value)}}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{class:"fas fa-key"})))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",type:"submit",onClick:function(){m.a.put("/users",{name:c,email:d,password:h}).then((function(a){Object(u.b)("Account created!"),e.onSuccess(a.data)}),(function(e){return O(e.response.data.message||e.message)}))}},"Sign up!"))))),l.a.createElement(r.b,{class:"modal-close is-large","aria-label":"close",to:"/"}))}function h(e){return e.isAuthenticated?e.children:null}function v(e){return e.isAuthenticated?l.a.createElement(f.b,{path:e.path},e.children):l.a.createElement(f.a,{to:"/login"})}p.defaultProps={onSuccess:function(e){return e}},b.defaultProps={onSuccess:function(e){return e}};var g=function(){var e=Object(n.useState)(null),a=Object(i.a)(e,2),t=a[0],c=a[1],s=t&&t.token,o=Object(n.useState)([]),E=Object(i.a)(o,2),g=E[0],j=E[1],N=Object(n.useState)([]),O=Object(i.a)(N,2),y=O[0],k=O[1],S=Object(n.useState)(""),w=Object(i.a)(S,2),C=w[0],x=w[1],A=Object(n.useState)(""),L=Object(i.a)(A,2),P=L[0],T=L[1];Object(n.useEffect)((function(){t&&t.token&&d.a.set("token",t.token,{domain:"localhost"})}),[t]),Object(n.useEffect)((function(){m.a.get("/posts").then((function(e){j(e.data)}),(function(e){console.log(e)}));var e=d.a.get("token");e&&m.a.get("/users/".concat(e)).then((function(e){c(e.data)}),(function(e){console.log(e)}))}),[]);var _=Object(f.g)(),D=function(e){c(e),_.push("/")};return l.a.createElement("div",{class:"page-home"},l.a.createElement("section",{class:"hero is-primary is-bold"},l.a.createElement("div",{class:"hero-body",style:{paddingBottom:0}},l.a.createElement("div",{class:"container"},l.a.createElement("h1",{class:"title"},"Brand."),l.a.createElement("h2",{class:"subtitle"},"My awesome store"),l.a.createElement("div",{class:"columns",style:{marginTop:"4em"}},l.a.createElement("div",{class:"column"},l.a.createElement("div",{class:"tabs is-boxed is-left"},l.a.createElement("ul",null,l.a.createElement("li",{class:"is-active"},l.a.createElement(r.b,{to:"/"},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-image","aria-hidden":"true"})),l.a.createElement("span",null,"Posts"))),l.a.createElement("li",null,l.a.createElement(r.b,{to:"/music"},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-music","aria-hidden":"true"})),l.a.createElement("span",null,"Music")))))),l.a.createElement("div",{class:"column"},l.a.createElement("div",{class:"tabs is-right"},l.a.createElement("ul",null,l.a.createElement("li",{class:"is-active"},l.a.createElement(r.b,{to:"/create"},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-pencil-alt"})),l.a.createElement("span",null,"Create Post"))),l.a.createElement(h,{isAuthenticated:!s},l.a.createElement("li",null,l.a.createElement(r.b,{to:"/login"},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-sign-in-alt"})),l.a.createElement("span",null,"Login")))),l.a.createElement(h,{isAuthenticated:s},l.a.createElement("li",null,l.a.createElement(r.b,{to:"/dashboard",onClick:function(){m.a.post("/posts",{token:t&&t.token}).then((function(e){k(e.data)}),(function(e){console.log(e)}))}},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-tachometer-alt"})),l.a.createElement("span",null,"Dashboard")))),l.a.createElement(h,{isAuthenticated:s},l.a.createElement("li",null,l.a.createElement(r.b,{to:"/",onClick:function(e){c(null),d.a.remove("token",t.token,{domain:"localhost"}),Object(u.b)("User logged out!")}},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-sign-in-alt"})),l.a.createElement("span",null,"Logout"))))))))))),l.a.createElement(f.d,null,l.a.createElement(f.b,{path:"/music"},l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"container"},"This is dummy category."))),l.a.createElement(v,{path:"/create",isAuthenticated:s},l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"columns"},l.a.createElement("div",{class:"column"},l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Author"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{class:"input",type:"text",value:t&&t.name,disabled:!0}))),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Title"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{class:"input",type:"text",placeholder:"Looking for scraping jobs",value:C,onChange:function(e){return x(e.target.value)}}))),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Content"),l.a.createElement("div",{class:"control"},l.a.createElement("textarea",{class:"textarea",placeholder:"Description of service",value:P,onChange:function(e){return T(e.target.value)}}))),l.a.createElement("div",{class:"field is-grouped"},l.a.createElement("div",{class:"control",onClick:function(){m.a.put("/posts",{title:C,content:P,token:t&&t.token}).then((function(){Object(u.b)("Post created! Redirecting ..."),setTimeout((function(){window.location.href="/"}),1e3)}),(function(e){console.log(e)}))}},l.a.createElement("button",{class:"button is-link"},"Submit")),l.a.createElement("div",{class:"control"},l.a.createElement(r.b,{class:"button is-link is-light",to:"/"},"Cancel"))))))))),l.a.createElement(f.b,{path:"/dashboard"},l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"columns"},l.a.createElement("div",{class:"column"},y.map((function(e,a){return l.a.createElement("div",{class:"card",style:{margin:"2em 0"}},l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"media"},l.a.createElement("div",{class:"media-content"},l.a.createElement("p",{class:"title is-4"},l.a.createElement("a",{href:"#"},e.title)),l.a.createElement("p",{class:"subtitle is-6"},e.belong_to))),l.a.createElement("div",{class:"content",dangerouslySetInnerHTML:{__html:e.content}})))})))))))),l.a.createElement(f.b,{path:"/"},l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"columns"},l.a.createElement("div",{class:"column"},g.map((function(e,a){return l.a.createElement("div",{class:"card",style:{margin:"2em 0"}},l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"media"},l.a.createElement("div",{class:"media-content"},l.a.createElement("p",{class:"title is-4"},l.a.createElement("a",{href:"#"},e.title)),l.a.createElement("p",{class:"subtitle is-6"},e.belong_to))),l.a.createElement("div",{class:"content",dangerouslySetInnerHTML:{__html:e.content}})))}))))))))),l.a.createElement(f.d,null,l.a.createElement(f.b,{path:"/login"},l.a.createElement(p,{onSuccess:D})),l.a.createElement(f.b,{path:"/register"},l.a.createElement(b,{onSuccess:D}))),l.a.createElement(u.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,null,l.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.766484de.chunk.js.map